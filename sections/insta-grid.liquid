

<div class="insta inner" data-section-id="{{ section.id }}" data-section-type="quotes">
  {% if section.settings.title != blank %}
    <h2>{{ section.settings.title | escape }}</h2>
  {% endif %}
  {% if section.settings.subtitle != blank %}
    <p class="subtitle">{{ section.settings.subtitle | escape }}</p>
  {% endif %}
  {% if section.blocks.size > 0 %}
      <div class="instagramification grid mininner">
        {% for block in section.blocks %}
            <blockquote>
              <a href="{{ block.settings.link }}">
              {% if block.settings.insta_image != blank %}
              {% assign the_image = block.settings.insta_image %}
              <picture class="insta_shot">
                  <source srcset="{{ the_image | img_url: '308x308', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '308x308', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 600px)" />
                  <source srcset="{{ the_image | img_url: '154x154', crop: 'center', format: 'pjpg', scale: 2 }} 2x, {{ the_image | img_url: '154x154', crop: 'center', format: 'pjpg' }} 1x" media="(min-width: 320px)" />
                <img loading="lazy" class="heroshot_image" src="{{ the_image | img_url: '100x100' }}" alt="{{ the_image.alt | escape }}" width="100" height="100" />
              </picture>
              {% endif %}
              </a>
              {% if block.settings.author != blank %}
                <cite><a href="https://www.instagram.com/{{ block.settings.author | escape | remove: "@" }}" target="_blank" rel="noopener">{{ block.settings.author | escape }}</a></cite>
              {% endif %}
            </blockquote>
        {% endfor %}
      </div>
  {% endif %}

</div>



{% schema %}
{
  "name": {
    "en": "Instagram"
  },
  "class": "index-section insta-section",
  "max_blocks": 5,
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": {
        "en": "Heading"
      },
      "default": {
        "en": "Instagram"
      }
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": {
        "en": "Subtitle"
      },
      "default": {
        "en": "#HMPIERCED"
      }
    }
  ],
  "blocks": [
    {
      "type": "Instalink",
      "name": {
        "en": "Instalink"
      },
      "settings": [
        {
          "type": "image_picker",
          "id": "insta_image",
          "label": {
            "en": "Instagram Image"
          },
          "info": "to get the image you will find it easiest to use something like https://ingramer.com/downloader/instagram/photo/ save the downloaded image to yourHard drive then upload here"
        },
        {
          "type": "text",
          "id": "author",
          "label": {
            "en": "Authors Instagram handle"
          },
          "default": {
            "en": "@hannahmartinpierced"
          }
        },
        {
          "type": "url",
          "id": "link",
          "label": {
            "en": "Link"
          }
        }
      ]
    }
  ],
  "presets": [
    {
      "name": {
        "en": "Instagram Grid"
      },
      "category": {
        "en": "Image"
      },
      "blocks": [
        {
          "type": "Instalink"
        },
        {
          "type": "Instalink"
        },
        {
          "type": "Instalink"
        },
        {
          "type": "Instalink"
        },
        {
          "type": "Instalink"
        }
      ]
    }
  ]
}
{% endschema %}
