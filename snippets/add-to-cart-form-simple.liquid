{% assign current_variant = product.selected_or_first_available_variant %}
<form action="/cart/add" method="post" enctype="multipart/form-data" id="add-to-cart-{{ product.handle }}-{{ collection.handle }}" class="flex">  
  <input type="hidden"name="id" class="product-select" value="{{ product.variants.first.id }}" />
  <button type="submit" name="add" data-add-to-cart class="js-go-cart-add-to-cart button"
  {% unless current_variant.available -%}disabled="disabled"{%- endunless %}> 
    <span data-add-to-cart-text> 
      {% if current_variant.available %} 
      {{ 'products.product.add_to_cart' | t }} 
      {% else %} 
      {{ 'products.product.sold_out' | t }} 
      {% endif %} 
    </span>
  </button>
  <a href="{{ product.url }}" class="button alt alt-nav">More details</a>
</form> 