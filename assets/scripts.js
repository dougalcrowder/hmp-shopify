(()=>{var e,t={341:()=>{window.matchMedia("(hover: hover)").matches?(document.body.classList.add("hover"),document.body.classList.remove("nohover")):(document.body.classList.add("nohover"),document.body.classList.remove("hover"));function e(){pageYOffset>32?document.body.classList.add("hideNav"):document.body.classList.remove("hideNav")}function t(){var t,s,i;window.addEventListener("scroll",(t=e,s=10,i=Date.now(),function(){i+s-Date.now()<0&&(t(),i=Date.now())}))}var s=window.matchMedia("(max-width: 960px)");function i(){var e=document.getElementById("accessibleNav"),t=document.getElementById("menuTrigger"),i=document.querySelector(".site-header");t.addEventListener("click",(function(){e.classList.contains("active")?(t.classList.remove("nav-open"),e.classList.remove("active"),i.classList.remove("nav-out"),document.body.classList.remove("mob-nav-out")):(t.classList.add("nav-open"),e.classList.add("active"),i.classList.add("nav-out"),document.body.classList.add("mob-nav-out"),function(){var e=document.getElementById("accessibleNav"),t=document.querySelector(".site-header"),s=document.getElementById("menuTrigger"),i=document.querySelector("main");t.classList.contains("nav-out")&&(i.addEventListener("click",(function(){s.classList.remove("nav-open"),e.classList.remove("active"),t.classList.remove("nav-out"),document.body.classList.remove("mob-nav-out")}),!1),e.addEventListener("click",(function(e){e.stopPropagation()}),!1))}())})),document.querySelectorAll(".site-nav .hasmega").forEach((function(e){e.querySelector("a.level1_parent").addEventListener("click",(function(){e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active"),s.matches&&event.preventDefault()}))})),document.querySelectorAll(".site-nav .hasmega .level2_item.isparent").forEach((function(e){e.addEventListener("click",(function(){e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")}))}))}var c=document.getElementById("cartToggle"),o=document.getElementById("closeCartx"),n=document.getElementById("closeCart"),a=document.getElementById("sidecart");if(c.addEventListener("click",(function(e){c.classList.contains("active")?(c.classList.remove("active"),a.classList.remove("active"),document.body.classList.remove("sidecart-active"),setTimeout((function(){a.classList.remove("alive")}),500)):(c.classList.add("active"),document.body.classList.add("sidecart-active"),a.classList.add("alive"),setTimeout((function(){a.classList.add("active")}),50)),e.preventDefault()})),o.addEventListener("click",(function(e){a.classList.contains("active")&&(a.classList.remove("active"),document.body.classList.remove("sidecart-active"),setTimeout((function(){a.classList.remove("alive")}),500))})),n.addEventListener("click",(function(e){a.classList.contains("active")&&(a.classList.remove("active"),document.body.classList.remove("sidecart-active"),setTimeout((function(){a.classList.remove("alive")}),500))})),document.getElementById("filterToggle")){var d=document.getElementById("filterToggle"),l=document.getElementById("closeFilter"),r=document.getElementById("filterCloser"),v=document.getElementById("main-collection-filters");d.addEventListener("click",(function(e){v.classList.contains("active")?(d.classList.remove("active"),r.classList.remove("active"),v.classList.remove("active"),document.body.classList.remove("filter-active"),setTimeout((function(){v.classList.remove("alive")}),500)):(d.classList.add("active"),r.classList.add("active"),document.body.classList.add("filter-active"),v.classList.add("alive"),setTimeout((function(){v.classList.add("active")}),50))})),l.addEventListener("click",(function(e){v.classList.contains("active")&&(d.classList.remove("active"),r.classList.remove("active"),v.classList.remove("active"),document.body.classList.remove("filter-active"),setTimeout((function(){v.classList.remove("alive")}),500))})),r.addEventListener("click",(function(e){v.classList.contains("active")&&(d.classList.remove("active"),r.classList.remove("active"),v.classList.remove("active"),document.body.classList.remove("filter-active"),setTimeout((function(){v.classList.remove("alive")}),500))}))}console.log("scripts init"),document.querySelector(".account_area")&&function(){if(document.getElementById("RecoverPassword")){var e=document.getElementById("RecoverPassword"),t=document.getElementById("HideRecoverPasswordLink"),s=document.getElementById("CustomerLoginForm"),i=document.getElementById("RecoverPasswordForm");e.addEventListener("click",(function(){console.log("yay clicked"),s.classList.add("hide"),i.classList.remove("hide")})),t.addEventListener("click",(function(){console.log("yay clicked"),i.classList.add("hide"),s.classList.remove("hide")}))}}(),t(),e(),window.addEventListener("load",(function(e){document.body.classList.add("loaded"),setTimeout((function(){document.body.classList.remove("loading")}),1)})),i(),function(){if(document.getElementById("nextButton")){var e=document.getElementById("nextButton");e.addEventListener("click",(function(){(function(e,t){var s=e.nextElementSibling;if(!t)return s;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}})(e.closest(".shopify-section")).scrollIntoView()}))}}(),document.getElementById("accordionGroup")&&(console.log("hello Accordions"),document.querySelectorAll(".Accordion h3 button").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("aria-controls"),s=document.getElementById(t);"true"==e.getAttribute("aria-expanded")?(console.log("tis true"),e.setAttribute("aria-expanded","false"),s.setAttribute("hidden","true")):(console.log("tis false"),e.setAttribute("aria-expanded","true"),s.removeAttribute("hidden"))}))})))},735:()=>{},675:()=>{},261:()=>{},195:()=>{},678:()=>{},590:()=>{},548:()=>{},325:()=>{},769:()=>{},552:()=>{},518:()=>{}},s={};function i(e){var c=s[e];if(void 0!==c)return c.exports;var o=s[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,e=[],i.O=(t,s,c,o)=>{if(!s){var n=1/0;for(r=0;r<e.length;r++){for(var[s,c,o]=e[r],a=!0,d=0;d<s.length;d++)(!1&o||n>=o)&&Object.keys(i.O).every((e=>i.O[e](s[d])))?s.splice(d--,1):(a=!1,o<n&&(n=o));if(a){e.splice(r--,1);var l=c();void 0!==l&&(t=l)}}return t}o=o||0;for(var r=e.length;r>0&&e[r-1][2]>o;r--)e[r]=e[r-1];e[r]=[s,c,o]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={889:0,515:0,825:0,48:0,386:0,214:0,88:0,286:0,930:0,401:0,540:0,29:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var c,o,[n,a,d]=s,l=0;if(n.some((t=>0!==e[t]))){for(c in a)i.o(a,c)&&(i.m[c]=a[c]);if(d)var r=d(i)}for(t&&t(s);l<n.length;l++)o=n[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(r)},s=self.webpackChunkhmp=self.webpackChunkhmp||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(341))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(548))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(325))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(769))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(552))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(518))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(735))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(675))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(261))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(195))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(678)));var c=i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(590)));c=i.O(c)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVcsQ0FBQyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssSUFBT0gsRUFBb0IsT0FDeEdBLEVBQW9CUSxPQUFFTCxFQUFXLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLElBQU9ILEVBQW9CLE9BQ3hHQSxFQUFvQlEsT0FBRUwsRUFBVyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxJQUFPSCxFQUFvQixPQUN4R0EsRUFBb0JRLE9BQUVMLEVBQVcsQ0FBQyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssSUFBT0gsRUFBb0IsT0FDeEdBLEVBQW9CUSxPQUFFTCxFQUFXLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLElBQU9ILEVBQW9CLE9BQ3hHQSxFQUFvQlEsT0FBRUwsRUFBVyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxJQUFPSCxFQUFvQixPQUN4R0EsRUFBb0JRLE9BQUVMLEVBQVcsQ0FBQyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssSUFBT0gsRUFBb0IsT0FDeEdBLEVBQW9CUSxPQUFFTCxFQUFXLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLElBQU9ILEVBQW9CLE9BQ3hHQSxFQUFvQlEsT0FBRUwsRUFBVyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxJQUFPSCxFQUFvQixPQUN4R0EsRUFBb0JRLE9BQUVMLEVBQVcsQ0FBQyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssSUFBT0gsRUFBb0IsT0FDeEdBLEVBQW9CUSxPQUFFTCxFQUFXLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLElBQU9ILEVBQW9CLE9BQ3hHLElBQUkyQyxFQUFzQjNDLEVBQW9CUSxPQUFFTCxFQUFXLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLElBQU9ILEVBQW9CLE9BQ2xJMkMsRUFBc0IzQyxFQUFvQlEsRUFBRW1DLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9obXAvd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly9obXAvLi9zcmMvanMvc2NyaXB0cy5qcyIsIndlYnBhY2s6Ly9obXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vaG1wL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vaG1wL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2htcC93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwiLy8gSW1wb3J0c1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuXG4vLyBIZWxwZXJzICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuaWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcoaG92ZXI6IGhvdmVyKScpLm1hdGNoZXMpIHtcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdob3ZlcicpO1xuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ25vaG92ZXInKTtcbn0gZWxzZSB7XG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbm9ob3ZlcicpO1xuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyJyk7XG59XG5cbnZhciBnZXROZXh0U2libGluZyA9IGZ1bmN0aW9uIChlbGVtLCBzZWxlY3Rvcikge1xuXHQvLyBHZXQgdGhlIG5leHQgc2libGluZyBlbGVtZW50XG5cdHZhciBzaWJsaW5nID0gZWxlbS5uZXh0RWxlbWVudFNpYmxpbmc7XG5cdC8vIElmIHRoZXJlJ3Mgbm8gc2VsZWN0b3IsIHJldHVybiB0aGUgZmlyc3Qgc2libGluZ1xuXHRpZiAoIXNlbGVjdG9yKSByZXR1cm4gc2libGluZztcblx0Ly8gSWYgdGhlIHNpYmxpbmcgbWF0Y2hlcyBvdXIgc2VsZWN0b3IsIHVzZSBpdFxuXHQvLyBJZiBub3QsIGp1bXAgdG8gdGhlIG5leHQgc2libGluZyBhbmQgY29udGludWUgdGhlIGxvb3Bcblx0d2hpbGUgKHNpYmxpbmcpIHtcblx0XHRpZiAoc2libGluZy5tYXRjaGVzKHNlbGVjdG9yKSkgcmV0dXJuIHNpYmxpbmc7XG5cdFx0c2libGluZyA9IHNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nXG5cdH1cbn07XG5cbnZhciBnZXRQcmV2aW91c1NpYmxpbmcgPSBmdW5jdGlvbiAoZWxlbSwgc2VsZWN0b3IpIHtcblxuXHQvLyBHZXQgdGhlIG5leHQgc2libGluZyBlbGVtZW50XG5cdHZhciBzaWJsaW5nID0gZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXG5cdC8vIElmIHRoZXJlJ3Mgbm8gc2VsZWN0b3IsIHJldHVybiB0aGUgZmlyc3Qgc2libGluZ1xuXHRpZiAoIXNlbGVjdG9yKSByZXR1cm4gc2libGluZztcblxuXHQvLyBJZiB0aGUgc2libGluZyBtYXRjaGVzIG91ciBzZWxlY3RvciwgdXNlIGl0XG5cdC8vIElmIG5vdCwganVtcCB0byB0aGUgbmV4dCBzaWJsaW5nIGFuZCBjb250aW51ZSB0aGUgbG9vcFxuXHR3aGlsZSAoc2libGluZykge1xuXHRcdGlmIChzaWJsaW5nLm1hdGNoZXMoc2VsZWN0b3IpKSByZXR1cm4gc2libGluZztcblx0XHRzaWJsaW5nID0gc2libGluZy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXHR9XG5cbn07XG5cbnZhciBnZXRTaWJsaW5ncyA9IGZ1bmN0aW9uIChlbGVtKSB7XG5cdC8vIFNldHVwIHNpYmxpbmdzIGFycmF5IGFuZCBnZXQgdGhlIGZpcnN0IHNpYmxpbmdcblx0dmFyIHNpYmxpbmdzID0gW107XG5cdHZhciBzaWJsaW5nID0gZWxlbS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ7XG5cdC8vIExvb3AgdGhyb3VnaCBlYWNoIHNpYmxpbmcgYW5kIHB1c2ggdG8gdGhlIGFycmF5XG5cdHdoaWxlIChzaWJsaW5nKSB7XG5cdFx0aWYgKHNpYmxpbmcubm9kZVR5cGUgPT09IDEgJiYgc2libGluZyAhPT0gZWxlbSkge1xuXHRcdFx0c2libGluZ3MucHVzaChzaWJsaW5nKTtcblx0XHR9XG5cdFx0c2libGluZyA9IHNpYmxpbmcubmV4dFNpYmxpbmc7XG5cdH1cblx0cmV0dXJuIHNpYmxpbmdzO1xufTtcblxuLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gZWxlbWVudCBpcyBpbiB0aGUgdmlld3BvcnRcbiAqIChjKSAyMDE3IENocmlzIEZlcmRpbmFuZGksIE1JVCBMaWNlbnNlLCBodHRwczovL2dvbWFrZXRoaW5ncy5jb21cbiAqIEBwYXJhbSAge05vZGV9ICAgIGVsZW0gVGhlIGVsZW1lbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgUmV0dXJucyB0cnVlIGlmIGVsZW1lbnQgaXMgaW4gdGhlIHZpZXdwb3J0XG4gKi9cbnZhciBpc0luVmlld3BvcnQgPSBmdW5jdGlvbiAoZWxlbSkge1xuXHR2YXIgZGlzdGFuY2UgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRyZXR1cm4gKFxuXHRcdGRpc3RhbmNlLnRvcCA+PSAwICYmXG5cdFx0ZGlzdGFuY2UubGVmdCA+PSAwICYmXG5cdFx0ZGlzdGFuY2UuYm90dG9tIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiZcblx0XHRkaXN0YW5jZS5yaWdodCA8PSAod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKVxuXHQpO1xufTtcbi8vIEFzIGFib3ZlIGp1c3QgY2FsY3VsYXRlcyBmcm9tIHRoZSB0b3BcbnZhciBpc0luVmlld3BvcnRUb3AgPSBmdW5jdGlvbiAoZWxlbSkge1xuICB2YXIgZGlzdGFuY2UgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXR1cm4gKFxuICAgIGRpc3RhbmNlLmJvdHRvbSA+PSAwICYmXG4gICAgZGlzdGFuY2UubGVmdCA+PSAwICYmXG4gICAgZGlzdGFuY2UudG9wIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiZcbiAgICBkaXN0YW5jZS5yaWdodCA8PSAod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKVxuICApO1xufTtcblxuLy8gd2hlbiBzY3JvbGxpbmcgbGV0cyBub3Qga2lsbCB0aGUgcHJvY2Vzc29yXG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgd2FpdCkge1xuICB2YXIgdGltZSA9IERhdGUubm93KCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpZiAoKHRpbWUgKyB3YWl0IC0gRGF0ZS5ub3coKSkgPCAwKSB7XG4gICAgICBmbigpO1xuICAgICAgdGltZSA9IERhdGUubm93KCk7XG4gICAgfVxuICB9XG59XG5cblxuLy8gTmF2aWdhdGlvbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuZnVuY3Rpb24gZGlzdGFuY2VTY3JvbGxlZCgpIHtcbiAgaWYgKHBhZ2VZT2Zmc2V0ID4gMzIpIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJoaWRlTmF2XCIpO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImhpZGVOYXZcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gbmV4dFNlY3Rpb24oKSB7XG4gIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXh0QnV0dG9uJykpIHtcbiAgICBjb25zdCBuZXh0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25leHRCdXR0b24nKTtcbiAgICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgY2xvc2VzdFBhcmVudCA9IG5leHRCdXR0b24uY2xvc2VzdCgnLnNob3BpZnktc2VjdGlvbicpO1xuICAgICAgbGV0IG5leHRQYXJlbnQgPSBnZXROZXh0U2libGluZyhjbG9zZXN0UGFyZW50KTtcbiAgICAgIG5leHRQYXJlbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB2aWV3cG9ydCgpIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhyb3R0bGUoZGlzdGFuY2VTY3JvbGxlZCwgMTApKTtcbn1cblxuZnVuY3Rpb24gbG9hZGVkKCkge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChldmVudCkgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbG9hZGVkJyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpO1xuICAgIH0sIDEpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGxvYWRlZGVkKCkge1xuICAgIGlmKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdsb2FkaW5nJykpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdsb2FkZWQnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJvZHlDbG9zZXIoKSB7XG4gIGNvbnN0IG5hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2Nlc3NpYmxlTmF2Jyk7XG4gIGNvbnN0IGhlZWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaXRlLWhlYWRlcicpO1xuICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudVRyaWdnZXInKTtcbiAgY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKTtcbiAgaWYgKGhlZWRlci5jbGFzc0xpc3QuY29udGFpbnMoJ25hdi1vdXQnKSkge1xuICAgIG1haW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtb3BlbicpO1xuICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgaGVlZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1vdXQnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9iLW5hdi1vdXQnKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgbmF2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgXG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpOyBcbiAgICB9LCBmYWxzZSk7XG4gIH1cbn1cblxudmFyIG1vYk5hdiA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogOTYwcHgpXCIpXG5cbmZ1bmN0aW9uIGNsb3NlTmF2KCkge1xuICBjb25zdCBuYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjY2Vzc2libGVOYXZcIik7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51VHJpZ2dlcicpO1xuICBjb25zdCBoZWVkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1oZWFkZXInKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtb3BlbicpO1xuICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgaGVlZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1vdXQnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9iLW5hdi1vdXQnKTtcblxufVxuXG5mdW5jdGlvbiBtb2JOYXZpZ2F0aW9uKCkge1xuICBjb25zdCBuYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjY2Vzc2libGVOYXZcIik7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51VHJpZ2dlcicpO1xuICBjb25zdCBoZWVkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1oZWFkZXInKTtcbiAgLy8gY29uc3Qgc2VhcmNoVG9nZ2xlPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoVG9nZ2xlJyk7XG4gIC8vIGNvbnN0IGhlYWRlclNlYXJjaD0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlclNlYXJjaCcpO1xuICAvLyBjb25zdCBtb2JTZWFyY2hDbG9zZT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vYlNlYXJjaENsb3NlJyk7XG4gIFxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKXtcbiAgICBpZiAobmF2LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJjbG9zZVwiKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtb3BlbicpO1xuICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgaGVlZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1vdXQnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9iLW5hdi1vdXQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9jb25zb2xlLmxvZyhcIm9wZW5cIik7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnbmF2LW9wZW4nKTtcbiAgICAgIG5hdi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGhlZWRlci5jbGFzc0xpc3QuYWRkKCduYXYtb3V0Jyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vYi1uYXYtb3V0Jyk7XG4gICAgICBib2R5Q2xvc2VyKCk7XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIGRyb3Bkb3duIHRvZ2dsZXJzXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaXRlLW5hdiAuaGFzbWVnYScpLmZvckVhY2goIGZ1bmN0aW9uKGRyb3BMZXZlbDEpIHtcbiAgICBkcm9wTGV2ZWwxLnF1ZXJ5U2VsZWN0b3IoJ2EubGV2ZWwxX3BhcmVudCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCl7XG4gICAgICBpZiAoZHJvcExldmVsMS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIGRyb3BMZXZlbDEuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyb3BMZXZlbDEuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgIH07XG4gICAgICBpZiAobW9iTmF2Lm1hdGNoZXMpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2l0ZS1uYXYgLmhhc21lZ2EgLmxldmVsMl9pdGVtLmlzcGFyZW50JykuZm9yRWFjaCggZnVuY3Rpb24oZHJvcExldmVsMikge1xuICAgIGRyb3BMZXZlbDIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKXtcbiAgICAgIGlmIChkcm9wTGV2ZWwyLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgZHJvcExldmVsMi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJvcExldmVsMi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgXG59XG5cblxuLy8gYWNjb3VudCBwYWdlcyBzdHVmZlxuZnVuY3Rpb24gYWNjb3VudHMoKSB7XG4gIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdSZWNvdmVyUGFzc3dvcmQnKSkge1xuICAgIGxldCBSZWNvdmVyUGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUmVjb3ZlclBhc3N3b3JkJyk7XG4gICAgbGV0IEhpZGVSZWNvdmVyUGFzc3dvcmRMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0hpZGVSZWNvdmVyUGFzc3dvcmRMaW5rJyk7XG4gICAgbGV0IEN1c3RvbWVyTG9naW5Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0N1c3RvbWVyTG9naW5Gb3JtJyk7XG4gICAgbGV0IFJlY292ZXJQYXNzd29yZEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUmVjb3ZlclBhc3N3b3JkRm9ybScpO1xuICAgIFxuICAgIFJlY292ZXJQYXNzd29yZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJ5YXkgY2xpY2tlZFwiKTtcbiAgICAgIEN1c3RvbWVyTG9naW5Gb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgICAgIFJlY292ZXJQYXNzd29yZEZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xuICAgIH0pO1xuICAgIFxuICAgIEhpZGVSZWNvdmVyUGFzc3dvcmRMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInlheSBjbGlja2VkXCIpO1xuICAgICAgUmVjb3ZlclBhc3N3b3JkRm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gICAgICBDdXN0b21lckxvZ2luRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWNjb3JkaW9ucygpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvcmRpb25Hcm91cCcpKSB7XG4gICAgY29uc29sZS5sb2coXCJoZWxsbyBBY2NvcmRpb25zXCIpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5BY2NvcmRpb24gaDMgYnV0dG9uJykuZm9yRWFjaCggZnVuY3Rpb24odHJpZ2dlcikge1xuICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgXG4gICAgICAgIGxldCB0YXJnZXRTZWN0aW9uID0gdHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKTtcbiAgICAgICAgXG4gICAgICAgIGxldCB0aGVTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0U2VjdGlvbik7XG4gICAgICAgIFxuICAgICAgICBpZih0cmlnZ2VyLmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpID09ICd0cnVlJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwidGlzIHRydWVcIik7XG4gICAgICAgICAgdHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICB0aGVTZWN0aW9uLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInRpcyBmYWxzZVwiKTtcbiAgICAgICAgICB0cmlnZ2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgICAgICAgdGhlU2VjdGlvbi5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxubGV0IGNhcnRUb2dnbGU9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJ0VG9nZ2xlJyk7XG5sZXQgY2xvc2VDYXJ0eD0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlQ2FydHgnKTtcbmxldCBjbG9zZUNhcnQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZUNhcnQnKTtcbmxldCBzaWRlQ2FydD0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGVjYXJ0Jyk7XG5cbmNhcnRUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpe1xuICBpZiAoY2FydFRvZ2dsZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgY2FydFRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBzaWRlQ2FydC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJzaWRlY2FydC1hY3RpdmVcIik7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNpZGVDYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2FsaXZlJyk7XG4gICAgfSwgNTAwKTtcbiAgfSBlbHNlIHtcbiAgICBjYXJ0VG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcInNpZGVjYXJ0LWFjdGl2ZVwiKTtcbiAgICBzaWRlQ2FydC5jbGFzc0xpc3QuYWRkKCdhbGl2ZScpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzaWRlQ2FydC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9LCA1MCk7XG4gIH1cbiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xufSk7XG5cbmNsb3NlQ2FydHguYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpe1xuICBpZiAoc2lkZUNhcnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgIHNpZGVDYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcInNpZGVjYXJ0LWFjdGl2ZVwiKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgc2lkZUNhcnQuY2xhc3NMaXN0LnJlbW92ZSgnYWxpdmUnKTtcbiAgICB9LCA1MDApO1xuICB9XG59KTtcbmNsb3NlQ2FydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCl7XG4gIGlmIChzaWRlQ2FydC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgc2lkZUNhcnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWNhcnQtYWN0aXZlXCIpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzaWRlQ2FydC5jbGFzc0xpc3QucmVtb3ZlKCdhbGl2ZScpO1xuICAgIH0sIDUwMCk7XG4gIH1cbn0pO1xuXG4vLyAvLyBGaWx0ZXJzIFRvZ2dsZVxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJUb2dnbGUnKSkge1xuICBsZXQgZmlsdGVyVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlclRvZ2dsZScpO1xuICBsZXQgY2xvc2VGaWx0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2VGaWx0ZXInKTtcbiAgbGV0IGZpbHRlckNsb3NlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWx0ZXJDbG9zZXInKTtcbiAgbGV0IGZpbHRlcnM9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLWNvbGxlY3Rpb24tZmlsdGVycycpO1xuICBcbiAgZmlsdGVyVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KXtcbiAgICBpZiAoZmlsdGVycy5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICBmaWx0ZXJUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBmaWx0ZXJDbG9zZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBmaWx0ZXJzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZmlsdGVyLWFjdGl2ZVwiKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZpbHRlcnMuY2xhc3NMaXN0LnJlbW92ZSgnYWxpdmUnKTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbHRlclRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGZpbHRlckNsb3Nlci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImZpbHRlci1hY3RpdmVcIik7XG4gICAgICBmaWx0ZXJzLmNsYXNzTGlzdC5hZGQoJ2FsaXZlJyk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBmaWx0ZXJzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfSwgNTApO1xuICAgICAgXG4gICAgfVxuICAgLy9ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KTtcbiAgY2xvc2VGaWx0ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpe1xuICAgIGlmIChmaWx0ZXJzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIGZpbHRlclRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGZpbHRlckNsb3Nlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGZpbHRlcnMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJmaWx0ZXItYWN0aXZlXCIpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgZmlsdGVycy5jbGFzc0xpc3QucmVtb3ZlKCdhbGl2ZScpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gIH0pO1xuICBmaWx0ZXJDbG9zZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpe1xuICAgIGlmIChmaWx0ZXJzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIGZpbHRlclRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGZpbHRlckNsb3Nlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGZpbHRlcnMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJmaWx0ZXItYWN0aXZlXCIpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgZmlsdGVycy5jbGFzc0xpc3QucmVtb3ZlKCdhbGl2ZScpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG4vLyBTd3VwICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gSW5pdGlhbCBmdW5jdGlvbnNcbmZ1bmN0aW9uIGluaXQoKSB7XG4gIGNvbnNvbGUubG9nKFwic2NyaXB0cyBpbml0XCIpO1xuICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWNjb3VudF9hcmVhJykpIHtcbiAgICBhY2NvdW50cygpO1xuICAgLy8gIHRvZ2dsZUFkZHJlc3MoKTtcbiAgfVxuICB2aWV3cG9ydCgpO1xuICBkaXN0YW5jZVNjcm9sbGVkKCk7XG4gIGxvYWRlZCgpO1xuXG4gIC8vc2V0TmF2aWdhdGlvbigpO1xuICBtb2JOYXZpZ2F0aW9uKCk7XG5cbiAgbmV4dFNlY3Rpb24oKTtcbiAgYWNjb3JkaW9ucygpO1xufVxuXG5cbmZ1bmN0aW9uIHVubG9hZCgpIHtcbiAgY2xvc2VOYXYoKTtcbn1cblxuLy8gcnVuIG9uY2UgXG5pbml0KCk7XG5cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ4ODk6IDAsXG5cdDUxNTogMCxcblx0ODI1OiAwLFxuXHQ0ODogMCxcblx0Mzg2OiAwLFxuXHQyMTQ6IDAsXG5cdDg4OiAwLFxuXHQyODY6IDAsXG5cdDkzMDogMCxcblx0NDAxOiAwLFxuXHQ1NDA6IDAsXG5cdDI5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtobXBcIl0gPSBzZWxmW1wid2VicGFja0NodW5raG1wXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGRlcGVuZHMgb24gb3RoZXIgbG9hZGVkIGNodW5rcyBhbmQgZXhlY3V0aW9uIG5lZWQgdG8gYmUgZGVsYXllZFxuX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzUxNSw4MjUsNDgsMzg2LDIxNCw4OCwyODYsOTMwLDQwMSw1NDAsMjldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXygzNDEpKSlcbl9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs1MTUsODI1LDQ4LDM4NiwyMTQsODgsMjg2LDkzMCw0MDEsNTQwLDI5XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNTQ4KSkpXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbNTE1LDgyNSw0OCwzODYsMjE0LDg4LDI4Niw5MzAsNDAxLDU0MCwyOV0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNSkpKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzUxNSw4MjUsNDgsMzg2LDIxNCw4OCwyODYsOTMwLDQwMSw1NDAsMjldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg3NjkpKSlcbl9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs1MTUsODI1LDQ4LDM4NiwyMTQsODgsMjg2LDkzMCw0MDEsNTQwLDI5XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNTUyKSkpXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbNTE1LDgyNSw0OCwzODYsMjE0LDg4LDI4Niw5MzAsNDAxLDU0MCwyOV0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDUxOCkpKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzUxNSw4MjUsNDgsMzg2LDIxNCw4OCwyODYsOTMwLDQwMSw1NDAsMjldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg3MzUpKSlcbl9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs1MTUsODI1LDQ4LDM4NiwyMTQsODgsMjg2LDkzMCw0MDEsNTQwLDI5XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNjc1KSkpXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbNTE1LDgyNSw0OCwzODYsMjE0LDg4LDI4Niw5MzAsNDAxLDU0MCwyOV0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDI2MSkpKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzUxNSw4MjUsNDgsMzg2LDIxNCw4OCwyODYsOTMwLDQwMSw1NDAsMjldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXygxOTUpKSlcbl9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs1MTUsODI1LDQ4LDM4NiwyMTQsODgsMjg2LDkzMCw0MDEsNTQwLDI5XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNjc4KSkpXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs1MTUsODI1LDQ4LDM4NiwyMTQsODgsMjg2LDkzMCw0MDEsNTQwLDI5XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNTkwKSkpXG5fX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuIl0sIm5hbWVzIjpbImRlZmVycmVkIiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJkb2N1bWVudCIsImJvZHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJkaXN0YW5jZVNjcm9sbGVkIiwicGFnZVlPZmZzZXQiLCJ2aWV3cG9ydCIsImZuIiwid2FpdCIsInRpbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiRGF0ZSIsIm5vdyIsIm1vYk5hdiIsIm1vYk5hdmlnYXRpb24iLCJuYXYiLCJnZXRFbGVtZW50QnlJZCIsImJ1dHRvbiIsImhlZWRlciIsInF1ZXJ5U2VsZWN0b3IiLCJjb250YWlucyIsIm1haW4iLCJldiIsInN0b3BQcm9wYWdhdGlvbiIsImJvZHlDbG9zZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImRyb3BMZXZlbDEiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZHJvcExldmVsMiIsImNhcnRUb2dnbGUiLCJjbG9zZUNhcnR4IiwiY2xvc2VDYXJ0Iiwic2lkZUNhcnQiLCJzZXRUaW1lb3V0IiwiZmlsdGVyVG9nZ2xlIiwiY2xvc2VGaWx0ZXIiLCJmaWx0ZXJDbG9zZXIiLCJmaWx0ZXJzIiwiY29uc29sZSIsImxvZyIsIlJlY292ZXJQYXNzd29yZCIsIkhpZGVSZWNvdmVyUGFzc3dvcmRMaW5rIiwiQ3VzdG9tZXJMb2dpbkZvcm0iLCJSZWNvdmVyUGFzc3dvcmRGb3JtIiwiYWNjb3VudHMiLCJuZXh0QnV0dG9uIiwiZWxlbSIsInNlbGVjdG9yIiwic2libGluZyIsIm5leHRFbGVtZW50U2libGluZyIsImdldE5leHRTaWJsaW5nIiwiY2xvc2VzdCIsInNjcm9sbEludG9WaWV3IiwibmV4dFNlY3Rpb24iLCJ0cmlnZ2VyIiwidGFyZ2V0U2VjdGlvbiIsImdldEF0dHJpYnV0ZSIsInRoZVNlY3Rpb24iLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJPIiwicmVzdWx0IiwiY2h1bmtJZHMiLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiaSIsImxlbmd0aCIsImZ1bGZpbGxlZCIsImoiLCJPYmplY3QiLCJrZXlzIiwiZXZlcnkiLCJrZXkiLCJzcGxpY2UiLCJyIiwibyIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJjaHVua0lkIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsImRhdGEiLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiaWQiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJzZWxmIiwiYmluZCIsInB1c2giLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==