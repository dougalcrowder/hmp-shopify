(()=>{var e,t={341:()=>{window.matchMedia("(hover: hover)").matches?(document.body.classList.add("hover"),document.body.classList.remove("nohover")):(document.body.classList.add("nohover"),document.body.classList.remove("hover"));function e(){pageYOffset>32?document.body.classList.add("hideNav"):document.body.classList.remove("hideNav")}function t(){var t,s,i;window.addEventListener("scroll",(t=e,s=10,i=Date.now(),function(){i+s-Date.now()<0&&(t(),i=Date.now())}))}function s(){var e=document.getElementById("accessibleNav"),t=document.getElementById("menuTrigger"),s=document.querySelector(".site-header");t.addEventListener("click",(function(){e.classList.contains("active")?(t.classList.remove("nav-open"),e.classList.remove("active"),s.classList.remove("nav-out"),document.body.classList.remove("mob-nav-out")):(t.classList.add("nav-open"),e.classList.add("active"),s.classList.add("nav-out"),document.body.classList.add("mob-nav-out"),function(){var e=document.getElementById("accessibleNav"),t=document.querySelector(".site-header"),s=document.getElementById("menuTrigger"),i=document.querySelector("main");t.classList.contains("nav-out")&&(i.addEventListener("click",(function(){s.classList.remove("nav-open"),e.classList.remove("active"),t.classList.remove("nav-out"),document.body.classList.remove("mob-nav-out")}),!1),e.addEventListener("click",(function(e){e.stopPropagation()}),!1))}())})),document.querySelectorAll(".site-nav .hasmega").forEach((function(e){e.querySelector("a.level1_parent").addEventListener("click",(function(){e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active"),event.preventDefault()}))})),document.querySelectorAll(".site-nav .hasmega .level2_item.isparent").forEach((function(e){e.addEventListener("click",(function(){e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")}))}))}var i=document.getElementById("cartToggle"),c=document.getElementById("closeCartx"),o=document.getElementById("closeCart"),n=document.getElementById("sidecart");if(i.addEventListener("click",(function(e){i.classList.contains("active")?(i.classList.remove("active"),n.classList.remove("active"),document.body.classList.remove("sidecart-active"),setTimeout((function(){n.classList.remove("alive")}),500)):(i.classList.add("active"),document.body.classList.add("sidecart-active"),n.classList.add("alive"),setTimeout((function(){n.classList.add("active")}),50)),e.preventDefault()})),c.addEventListener("click",(function(e){n.classList.contains("active")&&(n.classList.remove("active"),document.body.classList.remove("sidecart-active"),setTimeout((function(){n.classList.remove("alive")}),500))})),o.addEventListener("click",(function(e){n.classList.contains("active")&&(n.classList.remove("active"),document.body.classList.remove("sidecart-active"),setTimeout((function(){n.classList.remove("alive")}),500))})),document.getElementById("filterToggle")){var a=document.getElementById("filterToggle"),d=document.getElementById("closeFilter"),l=document.getElementById("filterCloser"),r=document.getElementById("main-collection-filters");a.addEventListener("click",(function(e){r.classList.contains("active")?(a.classList.remove("active"),l.classList.remove("active"),r.classList.remove("active"),document.body.classList.remove("filter-active"),setTimeout((function(){r.classList.remove("alive")}),500)):(a.classList.add("active"),l.classList.add("active"),document.body.classList.add("filter-active"),r.classList.add("alive"),setTimeout((function(){r.classList.add("active")}),50))})),d.addEventListener("click",(function(e){r.classList.contains("active")&&(a.classList.remove("active"),l.classList.remove("active"),r.classList.remove("active"),document.body.classList.remove("filter-active"),setTimeout((function(){r.classList.remove("alive")}),500))})),l.addEventListener("click",(function(e){r.classList.contains("active")&&(a.classList.remove("active"),l.classList.remove("active"),r.classList.remove("active"),document.body.classList.remove("filter-active"),setTimeout((function(){r.classList.remove("alive")}),500))}))}console.log("scripts init"),document.querySelector(".account_area")&&function(){if(document.getElementById("RecoverPassword")){var e=document.getElementById("RecoverPassword"),t=document.getElementById("HideRecoverPasswordLink"),s=document.getElementById("CustomerLoginForm"),i=document.getElementById("RecoverPasswordForm");e.addEventListener("click",(function(){console.log("yay clicked"),s.classList.add("hide"),i.classList.remove("hide")})),t.addEventListener("click",(function(){console.log("yay clicked"),i.classList.add("hide"),s.classList.remove("hide")}))}}(),t(),e(),window.addEventListener("load",(function(e){document.body.classList.add("loaded"),setTimeout((function(){document.body.classList.remove("loading")}),1)})),s(),function(){if(document.getElementById("nextButton")){var e=document.getElementById("nextButton");e.addEventListener("click",(function(){(function(e,t){var s=e.nextElementSibling;if(!t)return s;for(;s;){if(s.matches(t))return s;s=s.nextElementSibling}})(e.closest(".shopify-section")).scrollIntoView()}))}}(),document.getElementById("accordionGroup")&&(console.log("hello Accordions"),document.querySelectorAll(".Accordion h3 button").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("aria-controls"),s=document.getElementById(t);"true"==e.getAttribute("aria-expanded")?(console.log("tis true"),e.setAttribute("aria-expanded","false"),s.setAttribute("hidden","true")):(console.log("tis false"),e.setAttribute("aria-expanded","true"),s.removeAttribute("hidden"))}))})))},735:()=>{},675:()=>{},261:()=>{},195:()=>{},678:()=>{},590:()=>{},548:()=>{},325:()=>{},769:()=>{},552:()=>{},518:()=>{}},s={};function i(e){var c=s[e];if(void 0!==c)return c.exports;var o=s[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,e=[],i.O=(t,s,c,o)=>{if(!s){var n=1/0;for(r=0;r<e.length;r++){for(var[s,c,o]=e[r],a=!0,d=0;d<s.length;d++)(!1&o||n>=o)&&Object.keys(i.O).every((e=>i.O[e](s[d])))?s.splice(d--,1):(a=!1,o<n&&(n=o));if(a){e.splice(r--,1);var l=c();void 0!==l&&(t=l)}}return t}o=o||0;for(var r=e.length;r>0&&e[r-1][2]>o;r--)e[r]=e[r-1];e[r]=[s,c,o]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={889:0,515:0,825:0,48:0,386:0,214:0,88:0,286:0,930:0,401:0,540:0,29:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var c,o,[n,a,d]=s,l=0;if(n.some((t=>0!==e[t]))){for(c in a)i.o(a,c)&&(i.m[c]=a[c]);if(d)var r=d(i)}for(t&&t(s);l<n.length;l++)o=n[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(r)},s=self.webpackChunkhmp=self.webpackChunkhmp||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(341))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(548))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(325))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(769))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(552))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(518))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(735))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(675))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(261))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(195))),i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(678)));var c=i.O(void 0,[515,825,48,386,214,88,286,930,401,540,29],(()=>i(590)));c=i.O(c)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUksSUFBSSxLQUFLLElBQU9ILEVBQW9CLE9BQ3hHQSxFQUFvQlEsT0FBRUwsRUFBVyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxJQUFPSCxFQUFvQixPQUN4R0EsRUFBb0JRLE9BQUVMLEVBQVcsQ0FBQyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssSUFBT0gsRUFBb0IsT0FDeEdBLEVBQW9CUSxPQUFFTCxFQUFXLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLElBQU9ILEVBQW9CLE9BQ3hHQSxFQUFvQlEsT0FBRUwsRUFBVyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxJQUFPSCxFQUFvQixPQUN4R0EsRUFBb0JRLE9BQUVMLEVBQVcsQ0FBQyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssSUFBT0gsRUFBb0IsT0FDeEdBLEVBQW9CUSxPQUFFTCxFQUFXLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLElBQU9ILEVBQW9CLE9BQ3hHQSxFQUFvQlEsT0FBRUwsRUFBVyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxJQUFPSCxFQUFvQixPQUN4R0EsRUFBb0JRLE9BQUVMLEVBQVcsQ0FBQyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssSUFBT0gsRUFBb0IsT0FDeEdBLEVBQW9CUSxPQUFFTCxFQUFXLENBQUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLElBQU9ILEVBQW9CLE9BQ3hHQSxFQUFvQlEsT0FBRUwsRUFBVyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxJQUFPSCxFQUFvQixPQUN4RyxJQUFJMkMsRUFBc0IzQyxFQUFvQlEsT0FBRUwsRUFBVyxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxJQUFPSCxFQUFvQixPQUNsSTJDLEVBQXNCM0MsRUFBb0JRLEVBQUVtQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG1wL3dlYnBhY2svcnVudGltZS9jaHVuayBsb2FkZWQiLCJ3ZWJwYWNrOi8vaG1wLy4vc3JjL2pzL3NjcmlwdHMuanMiLCJ3ZWJwYWNrOi8vaG1wL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2htcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2htcC93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9obXAvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkZWZlcnJlZCA9IFtdO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5PID0gKHJlc3VsdCwgY2h1bmtJZHMsIGZuLCBwcmlvcml0eSkgPT4ge1xuXHRpZihjaHVua0lkcykge1xuXHRcdHByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcblx0XHRmb3IodmFyIGkgPSBkZWZlcnJlZC5sZW5ndGg7IGkgPiAwICYmIGRlZmVycmVkW2kgLSAxXVsyXSA+IHByaW9yaXR5OyBpLS0pIGRlZmVycmVkW2ldID0gZGVmZXJyZWRbaSAtIDFdO1xuXHRcdGRlZmVycmVkW2ldID0gW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldO1xuXHRcdHJldHVybjtcblx0fVxuXHR2YXIgbm90RnVsZmlsbGVkID0gSW5maW5pdHk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWQubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgW2NodW5rSWRzLCBmbiwgcHJpb3JpdHldID0gZGVmZXJyZWRbaV07XG5cdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaHVua0lkcy5sZW5ndGg7IGorKykge1xuXHRcdFx0aWYgKChwcmlvcml0eSAmIDEgPT09IDAgfHwgbm90RnVsZmlsbGVkID49IHByaW9yaXR5KSAmJiBPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLk8pLmV2ZXJ5KChrZXkpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fLk9ba2V5XShjaHVua0lkc1tqXSkpKSkge1xuXHRcdFx0XHRjaHVua0lkcy5zcGxpY2Uoai0tLCAxKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZ1bGZpbGxlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZihwcmlvcml0eSA8IG5vdEZ1bGZpbGxlZCkgbm90RnVsZmlsbGVkID0gcHJpb3JpdHk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGZ1bGZpbGxlZCkge1xuXHRcdFx0ZGVmZXJyZWQuc3BsaWNlKGktLSwgMSlcblx0XHRcdHZhciByID0gZm4oKTtcblx0XHRcdGlmIChyICE9PSB1bmRlZmluZWQpIHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsIi8vIEltcG9ydHNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cblxuLy8gSGVscGVycyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKGhvdmVyOiBob3ZlciknKS5tYXRjaGVzKSB7XG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaG92ZXInKTtcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdub2hvdmVyJyk7XG59IGVsc2Uge1xuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ25vaG92ZXInKTtcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcicpO1xufVxuXG52YXIgZ2V0TmV4dFNpYmxpbmcgPSBmdW5jdGlvbiAoZWxlbSwgc2VsZWN0b3IpIHtcblx0Ly8gR2V0IHRoZSBuZXh0IHNpYmxpbmcgZWxlbWVudFxuXHR2YXIgc2libGluZyA9IGVsZW0ubmV4dEVsZW1lbnRTaWJsaW5nO1xuXHQvLyBJZiB0aGVyZSdzIG5vIHNlbGVjdG9yLCByZXR1cm4gdGhlIGZpcnN0IHNpYmxpbmdcblx0aWYgKCFzZWxlY3RvcikgcmV0dXJuIHNpYmxpbmc7XG5cdC8vIElmIHRoZSBzaWJsaW5nIG1hdGNoZXMgb3VyIHNlbGVjdG9yLCB1c2UgaXRcblx0Ly8gSWYgbm90LCBqdW1wIHRvIHRoZSBuZXh0IHNpYmxpbmcgYW5kIGNvbnRpbnVlIHRoZSBsb29wXG5cdHdoaWxlIChzaWJsaW5nKSB7XG5cdFx0aWYgKHNpYmxpbmcubWF0Y2hlcyhzZWxlY3RvcikpIHJldHVybiBzaWJsaW5nO1xuXHRcdHNpYmxpbmcgPSBzaWJsaW5nLm5leHRFbGVtZW50U2libGluZ1xuXHR9XG59O1xuXG52YXIgZ2V0UHJldmlvdXNTaWJsaW5nID0gZnVuY3Rpb24gKGVsZW0sIHNlbGVjdG9yKSB7XG5cblx0Ly8gR2V0IHRoZSBuZXh0IHNpYmxpbmcgZWxlbWVudFxuXHR2YXIgc2libGluZyA9IGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZztcblxuXHQvLyBJZiB0aGVyZSdzIG5vIHNlbGVjdG9yLCByZXR1cm4gdGhlIGZpcnN0IHNpYmxpbmdcblx0aWYgKCFzZWxlY3RvcikgcmV0dXJuIHNpYmxpbmc7XG5cblx0Ly8gSWYgdGhlIHNpYmxpbmcgbWF0Y2hlcyBvdXIgc2VsZWN0b3IsIHVzZSBpdFxuXHQvLyBJZiBub3QsIGp1bXAgdG8gdGhlIG5leHQgc2libGluZyBhbmQgY29udGludWUgdGhlIGxvb3Bcblx0d2hpbGUgKHNpYmxpbmcpIHtcblx0XHRpZiAoc2libGluZy5tYXRjaGVzKHNlbGVjdG9yKSkgcmV0dXJuIHNpYmxpbmc7XG5cdFx0c2libGluZyA9IHNpYmxpbmcucHJldmlvdXNFbGVtZW50U2libGluZztcblx0fVxuXG59O1xuXG52YXIgZ2V0U2libGluZ3MgPSBmdW5jdGlvbiAoZWxlbSkge1xuXHQvLyBTZXR1cCBzaWJsaW5ncyBhcnJheSBhbmQgZ2V0IHRoZSBmaXJzdCBzaWJsaW5nXG5cdHZhciBzaWJsaW5ncyA9IFtdO1xuXHR2YXIgc2libGluZyA9IGVsZW0ucGFyZW50Tm9kZS5maXJzdENoaWxkO1xuXHQvLyBMb29wIHRocm91Z2ggZWFjaCBzaWJsaW5nIGFuZCBwdXNoIHRvIHRoZSBhcnJheVxuXHR3aGlsZSAoc2libGluZykge1xuXHRcdGlmIChzaWJsaW5nLm5vZGVUeXBlID09PSAxICYmIHNpYmxpbmcgIT09IGVsZW0pIHtcblx0XHRcdHNpYmxpbmdzLnB1c2goc2libGluZyk7XG5cdFx0fVxuXHRcdHNpYmxpbmcgPSBzaWJsaW5nLm5leHRTaWJsaW5nO1xuXHR9XG5cdHJldHVybiBzaWJsaW5ncztcbn07XG5cbi8qIVxuICogRGV0ZXJtaW5lIGlmIGFuIGVsZW1lbnQgaXMgaW4gdGhlIHZpZXdwb3J0XG4gKiAoYykgMjAxNyBDaHJpcyBGZXJkaW5hbmRpLCBNSVQgTGljZW5zZSwgaHR0cHM6Ly9nb21ha2V0aGluZ3MuY29tXG4gKiBAcGFyYW0gIHtOb2RlfSAgICBlbGVtIFRoZSBlbGVtZW50XG4gKiBAcmV0dXJuIHtCb29sZWFufSAgICAgIFJldHVybnMgdHJ1ZSBpZiBlbGVtZW50IGlzIGluIHRoZSB2aWV3cG9ydFxuICovXG52YXIgaXNJblZpZXdwb3J0ID0gZnVuY3Rpb24gKGVsZW0pIHtcblx0dmFyIGRpc3RhbmNlID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0cmV0dXJuIChcblx0XHRkaXN0YW5jZS50b3AgPj0gMCAmJlxuXHRcdGRpc3RhbmNlLmxlZnQgPj0gMCAmJlxuXHRcdGRpc3RhbmNlLmJvdHRvbSA8PSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICYmXG5cdFx0ZGlzdGFuY2UucmlnaHQgPD0gKHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aClcblx0KTtcbn07XG4vLyBBcyBhYm92ZSBqdXN0IGNhbGN1bGF0ZXMgZnJvbSB0aGUgdG9wXG52YXIgaXNJblZpZXdwb3J0VG9wID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgdmFyIGRpc3RhbmNlID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgcmV0dXJuIChcbiAgICBkaXN0YW5jZS5ib3R0b20gPj0gMCAmJlxuICAgIGRpc3RhbmNlLmxlZnQgPj0gMCAmJlxuICAgIGRpc3RhbmNlLnRvcCA8PSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICYmXG4gICAgZGlzdGFuY2UucmlnaHQgPD0gKHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aClcbiAgKTtcbn07XG5cbi8vIHdoZW4gc2Nyb2xsaW5nIGxldHMgbm90IGtpbGwgdGhlIHByb2Nlc3NvclxuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIHdhaXQpIHtcbiAgdmFyIHRpbWUgPSBEYXRlLm5vdygpO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCh0aW1lICsgd2FpdCAtIERhdGUubm93KCkpIDwgMCkge1xuICAgICAgZm4oKTtcbiAgICAgIHRpbWUgPSBEYXRlLm5vdygpO1xuICAgIH1cbiAgfVxufVxuXG5cbi8vIE5hdmlnYXRpb24gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbmZ1bmN0aW9uIGRpc3RhbmNlU2Nyb2xsZWQoKSB7XG4gIGlmIChwYWdlWU9mZnNldCA+IDMyKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiaGlkZU5hdlwiKTtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlTmF2XCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5leHRTZWN0aW9uKCkge1xuICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV4dEJ1dHRvbicpKSB7XG4gICAgY29uc3QgbmV4dEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXh0QnV0dG9uJyk7XG4gICAgbmV4dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGNsb3Nlc3RQYXJlbnQgPSBuZXh0QnV0dG9uLmNsb3Nlc3QoJy5zaG9waWZ5LXNlY3Rpb24nKTtcbiAgICAgIGxldCBuZXh0UGFyZW50ID0gZ2V0TmV4dFNpYmxpbmcoY2xvc2VzdFBhcmVudCk7XG4gICAgICBuZXh0UGFyZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmlld3BvcnQoKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRocm90dGxlKGRpc3RhbmNlU2Nyb2xsZWQsIDEwKSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRlZCgpIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZXZlbnQpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2xvYWRlZCcpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICB9LCAxKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBsb2FkZWRlZCgpIHtcbiAgICBpZihkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnbG9hZGluZycpKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbG9hZGVkJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBib2R5Q2xvc2VyKCkge1xuICBjb25zdCBuYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjZXNzaWJsZU5hdicpO1xuICBjb25zdCBoZWVkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1oZWFkZXInKTtcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVUcmlnZ2VyJyk7XG4gIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJyk7XG4gIGlmIChoZWVkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXYtb3V0JykpIHtcbiAgICBtYWluLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbmF2LW9wZW4nKTtcbiAgICAgIG5hdi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGhlZWRlci5jbGFzc0xpc3QucmVtb3ZlKCduYXYtb3V0Jyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vYi1uYXYtb3V0Jyk7XG4gICAgfSwgZmFsc2UpO1xuICAgIG5hdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIFxuICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTsgXG4gICAgfSwgZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsb3NlTmF2KCkge1xuICBjb25zdCBuYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjY2Vzc2libGVOYXZcIik7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51VHJpZ2dlcicpO1xuICBjb25zdCBoZWVkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1oZWFkZXInKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtb3BlbicpO1xuICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgaGVlZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1vdXQnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9iLW5hdi1vdXQnKTtcblxufVxuXG5mdW5jdGlvbiBtb2JOYXZpZ2F0aW9uKCkge1xuICBjb25zdCBuYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjY2Vzc2libGVOYXZcIik7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51VHJpZ2dlcicpO1xuICBjb25zdCBoZWVkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2l0ZS1oZWFkZXInKTtcbiAgLy8gY29uc3Qgc2VhcmNoVG9nZ2xlPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoVG9nZ2xlJyk7XG4gIC8vIGNvbnN0IGhlYWRlclNlYXJjaD0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlclNlYXJjaCcpO1xuICAvLyBjb25zdCBtb2JTZWFyY2hDbG9zZT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vYlNlYXJjaENsb3NlJyk7XG4gIFxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKXtcbiAgICBpZiAobmF2LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJjbG9zZVwiKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtb3BlbicpO1xuICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgaGVlZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1vdXQnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9iLW5hdi1vdXQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9jb25zb2xlLmxvZyhcIm9wZW5cIik7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnbmF2LW9wZW4nKTtcbiAgICAgIG5hdi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGhlZWRlci5jbGFzc0xpc3QuYWRkKCduYXYtb3V0Jyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vYi1uYXYtb3V0Jyk7XG4gICAgICBib2R5Q2xvc2VyKCk7XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIGRyb3Bkb3duIHRvZ2dsZXJzXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaXRlLW5hdiAuaGFzbWVnYScpLmZvckVhY2goIGZ1bmN0aW9uKGRyb3BMZXZlbDEpIHtcbiAgICBkcm9wTGV2ZWwxLnF1ZXJ5U2VsZWN0b3IoJ2EubGV2ZWwxX3BhcmVudCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCl7XG4gICAgICBpZiAoZHJvcExldmVsMS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIGRyb3BMZXZlbDEuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyb3BMZXZlbDEuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgIH07XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaXRlLW5hdiAuaGFzbWVnYSAubGV2ZWwyX2l0ZW0uaXNwYXJlbnQnKS5mb3JFYWNoKCBmdW5jdGlvbihkcm9wTGV2ZWwyKSB7XG4gICAgZHJvcExldmVsMi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpe1xuICAgICAgaWYgKGRyb3BMZXZlbDIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICBkcm9wTGV2ZWwyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcm9wTGV2ZWwyLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBcbn1cblxuXG4vLyBhY2NvdW50IHBhZ2VzIHN0dWZmXG5mdW5jdGlvbiBhY2NvdW50cygpIHtcbiAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1JlY292ZXJQYXNzd29yZCcpKSB7XG4gICAgbGV0IFJlY292ZXJQYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdSZWNvdmVyUGFzc3dvcmQnKTtcbiAgICBsZXQgSGlkZVJlY292ZXJQYXNzd29yZExpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnSGlkZVJlY292ZXJQYXNzd29yZExpbmsnKTtcbiAgICBsZXQgQ3VzdG9tZXJMb2dpbkZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ3VzdG9tZXJMb2dpbkZvcm0nKTtcbiAgICBsZXQgUmVjb3ZlclBhc3N3b3JkRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdSZWNvdmVyUGFzc3dvcmRGb3JtJyk7XG4gICAgXG4gICAgUmVjb3ZlclBhc3N3b3JkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInlheSBjbGlja2VkXCIpO1xuICAgICAgQ3VzdG9tZXJMb2dpbkZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xuICAgICAgUmVjb3ZlclBhc3N3b3JkRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gICAgfSk7XG4gICAgXG4gICAgSGlkZVJlY292ZXJQYXNzd29yZExpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwieWF5IGNsaWNrZWRcIik7XG4gICAgICBSZWNvdmVyUGFzc3dvcmRGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgICAgIEN1c3RvbWVyTG9naW5Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhY2NvcmRpb25zKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY29yZGlvbkdyb3VwJykpIHtcbiAgICBjb25zb2xlLmxvZyhcImhlbGxvIEFjY29yZGlvbnNcIik7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkFjY29yZGlvbiBoMyBidXR0b24nKS5mb3JFYWNoKCBmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBcbiAgICAgICAgbGV0IHRhcmdldFNlY3Rpb24gPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpO1xuICAgICAgICBcbiAgICAgICAgbGV0IHRoZVNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXRTZWN0aW9uKTtcbiAgICAgICAgXG4gICAgICAgIGlmKHRyaWdnZXIuZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT0gJ3RydWUnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJ0aXMgdHJ1ZVwiKTtcbiAgICAgICAgICB0cmlnZ2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICAgIHRoZVNlY3Rpb24uc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwidGlzIGZhbHNlXCIpO1xuICAgICAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICAgICAgICB0aGVTZWN0aW9uLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5sZXQgY2FydFRvZ2dsZT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcnRUb2dnbGUnKTtcbmxldCBjbG9zZUNhcnR4PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2VDYXJ0eCcpO1xubGV0IGNsb3NlQ2FydD0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlQ2FydCcpO1xubGV0IHNpZGVDYXJ0PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWNhcnQnKTtcblxuY2FydFRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCl7XG4gIGlmIChjYXJ0VG9nZ2xlLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICBjYXJ0VG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIHNpZGVDYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcInNpZGVjYXJ0LWFjdGl2ZVwiKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgc2lkZUNhcnQuY2xhc3NMaXN0LnJlbW92ZSgnYWxpdmUnKTtcbiAgICB9LCA1MDApO1xuICB9IGVsc2Uge1xuICAgIGNhcnRUb2dnbGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwic2lkZWNhcnQtYWN0aXZlXCIpO1xuICAgIHNpZGVDYXJ0LmNsYXNzTGlzdC5hZGQoJ2FsaXZlJyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNpZGVDYXJ0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH0sIDUwKTtcbiAgfVxuIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59KTtcblxuY2xvc2VDYXJ0eC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCl7XG4gIGlmIChzaWRlQ2FydC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgc2lkZUNhcnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwic2lkZWNhcnQtYWN0aXZlXCIpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzaWRlQ2FydC5jbGFzc0xpc3QucmVtb3ZlKCdhbGl2ZScpO1xuICAgIH0sIDUwMCk7XG4gIH1cbn0pO1xuY2xvc2VDYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KXtcbiAgaWYgKHNpZGVDYXJ0LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICBzaWRlQ2FydC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJzaWRlY2FydC1hY3RpdmVcIik7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHNpZGVDYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2FsaXZlJyk7XG4gICAgfSwgNTAwKTtcbiAgfVxufSk7XG5cbi8vIC8vIEZpbHRlcnMgVG9nZ2xlXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlclRvZ2dsZScpKSB7XG4gIGxldCBmaWx0ZXJUb2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsdGVyVG9nZ2xlJyk7XG4gIGxldCBjbG9zZUZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZUZpbHRlcicpO1xuICBsZXQgZmlsdGVyQ2xvc2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbHRlckNsb3NlcicpO1xuICBsZXQgZmlsdGVycz0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tY29sbGVjdGlvbi1maWx0ZXJzJyk7XG4gIFxuICBmaWx0ZXJUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpe1xuICAgIGlmIChmaWx0ZXJzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIGZpbHRlclRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGZpbHRlckNsb3Nlci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGZpbHRlcnMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJmaWx0ZXItYWN0aXZlXCIpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgZmlsdGVycy5jbGFzc0xpc3QucmVtb3ZlKCdhbGl2ZScpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsdGVyVG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgZmlsdGVyQ2xvc2VyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiZmlsdGVyLWFjdGl2ZVwiKTtcbiAgICAgIGZpbHRlcnMuY2xhc3NMaXN0LmFkZCgnYWxpdmUnKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZpbHRlcnMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9LCA1MCk7XG4gICAgICBcbiAgICB9XG4gICAvL2V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH0pO1xuICBjbG9zZUZpbHRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCl7XG4gICAgaWYgKGZpbHRlcnMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgZmlsdGVyVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgZmlsdGVyQ2xvc2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgZmlsdGVycy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImZpbHRlci1hY3RpdmVcIik7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBmaWx0ZXJzLmNsYXNzTGlzdC5yZW1vdmUoJ2FsaXZlJyk7XG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgfSk7XG4gIGZpbHRlckNsb3Nlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCl7XG4gICAgaWYgKGZpbHRlcnMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgZmlsdGVyVG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgZmlsdGVyQ2xvc2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgZmlsdGVycy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImZpbHRlci1hY3RpdmVcIik7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBmaWx0ZXJzLmNsYXNzTGlzdC5yZW1vdmUoJ2FsaXZlJyk7XG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgfSk7XG59O1xuXG5cbi8vIFN3dXAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLyBJbml0aWFsIGZ1bmN0aW9uc1xuZnVuY3Rpb24gaW5pdCgpIHtcbiAgY29uc29sZS5sb2coXCJzY3JpcHRzIGluaXRcIik7XG4gIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY2NvdW50X2FyZWEnKSkge1xuICAgIGFjY291bnRzKCk7XG4gICAvLyAgdG9nZ2xlQWRkcmVzcygpO1xuICB9XG4gIHZpZXdwb3J0KCk7XG4gIGRpc3RhbmNlU2Nyb2xsZWQoKTtcbiAgbG9hZGVkKCk7XG5cbiAgLy9zZXROYXZpZ2F0aW9uKCk7XG4gIG1vYk5hdmlnYXRpb24oKTtcblxuICBuZXh0U2VjdGlvbigpO1xuICBhY2NvcmRpb25zKCk7XG59XG5cblxuZnVuY3Rpb24gdW5sb2FkKCkge1xuICBjbG9zZU5hdigpO1xufVxuXG4vLyBydW4gb25jZSBcbmluaXQoKTtcblxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDg4OTogMCxcblx0NTE1OiAwLFxuXHQ4MjU6IDAsXG5cdDQ4OiAwLFxuXHQzODY6IDAsXG5cdDIxNDogMCxcblx0ODg6IDAsXG5cdDI4NjogMCxcblx0OTMwOiAwLFxuXHQ0MDE6IDAsXG5cdDU0MDogMCxcblx0Mjk6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGlmKGNodW5rSWRzLnNvbWUoKGlkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2lkXSAhPT0gMCkpKSB7XG5cdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0fVxuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua2htcFwiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtobXBcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbNTE1LDgyNSw0OCwzODYsMjE0LDg4LDI4Niw5MzAsNDAxLDU0MCwyOV0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDM0MSkpKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzUxNSw4MjUsNDgsMzg2LDIxNCw4OCwyODYsOTMwLDQwMSw1NDAsMjldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg1NDgpKSlcbl9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs1MTUsODI1LDQ4LDM4NiwyMTQsODgsMjg2LDkzMCw0MDEsNTQwLDI5XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oMzI1KSkpXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbNTE1LDgyNSw0OCwzODYsMjE0LDg4LDI4Niw5MzAsNDAxLDU0MCwyOV0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDc2OSkpKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzUxNSw4MjUsNDgsMzg2LDIxNCw4OCwyODYsOTMwLDQwMSw1NDAsMjldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg1NTIpKSlcbl9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs1MTUsODI1LDQ4LDM4NiwyMTQsODgsMjg2LDkzMCw0MDEsNTQwLDI5XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNTE4KSkpXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbNTE1LDgyNSw0OCwzODYsMjE0LDg4LDI4Niw5MzAsNDAxLDU0MCwyOV0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDczNSkpKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzUxNSw4MjUsNDgsMzg2LDIxNCw4OCwyODYsOTMwLDQwMSw1NDAsMjldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg2NzUpKSlcbl9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs1MTUsODI1LDQ4LDM4NiwyMTQsODgsMjg2LDkzMCw0MDEsNTQwLDI5XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oMjYxKSkpXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbNTE1LDgyNSw0OCwzODYsMjE0LDg4LDI4Niw5MzAsNDAxLDU0MCwyOV0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDE5NSkpKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzUxNSw4MjUsNDgsMzg2LDIxNCw4OCwyODYsOTMwLDQwMSw1NDAsMjldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpKSlcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzUxNSw4MjUsNDgsMzg2LDIxNCw4OCwyODYsOTMwLDQwMSw1NDAsMjldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg1OTApKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImRvY3VtZW50IiwiYm9keSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImRpc3RhbmNlU2Nyb2xsZWQiLCJwYWdlWU9mZnNldCIsInZpZXdwb3J0IiwiZm4iLCJ3YWl0IiwidGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJEYXRlIiwibm93IiwibW9iTmF2aWdhdGlvbiIsIm5hdiIsImdldEVsZW1lbnRCeUlkIiwiYnV0dG9uIiwiaGVlZGVyIiwicXVlcnlTZWxlY3RvciIsImNvbnRhaW5zIiwibWFpbiIsImV2Iiwic3RvcFByb3BhZ2F0aW9uIiwiYm9keUNsb3NlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZHJvcExldmVsMSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJkcm9wTGV2ZWwyIiwiY2FydFRvZ2dsZSIsImNsb3NlQ2FydHgiLCJjbG9zZUNhcnQiLCJzaWRlQ2FydCIsInNldFRpbWVvdXQiLCJmaWx0ZXJUb2dnbGUiLCJjbG9zZUZpbHRlciIsImZpbHRlckNsb3NlciIsImZpbHRlcnMiLCJjb25zb2xlIiwibG9nIiwiUmVjb3ZlclBhc3N3b3JkIiwiSGlkZVJlY292ZXJQYXNzd29yZExpbmsiLCJDdXN0b21lckxvZ2luRm9ybSIsIlJlY292ZXJQYXNzd29yZEZvcm0iLCJhY2NvdW50cyIsIm5leHRCdXR0b24iLCJlbGVtIiwic2VsZWN0b3IiLCJzaWJsaW5nIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZ2V0TmV4dFNpYmxpbmciLCJjbG9zZXN0Iiwic2Nyb2xsSW50b1ZpZXciLCJuZXh0U2VjdGlvbiIsInRyaWdnZXIiLCJ0YXJnZXRTZWN0aW9uIiwiZ2V0QXR0cmlidXRlIiwidGhlU2VjdGlvbiIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIk8iLCJyZXN1bHQiLCJjaHVua0lkcyIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJpIiwibGVuZ3RoIiwiZnVsZmlsbGVkIiwiaiIsIk9iamVjdCIsImtleXMiLCJldmVyeSIsImtleSIsInNwbGljZSIsInIiLCJvIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwiZGF0YSIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsInNvbWUiLCJpZCIsImNodW5rTG9hZGluZ0dsb2JhbCIsInNlbGYiLCJiaW5kIiwicHVzaCIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9